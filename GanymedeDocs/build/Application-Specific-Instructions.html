
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>6 - Application Specific Instructions &#8212; UTDallas HPC Cluster Users Guide 1.2 documentation</title>
    <link rel="stylesheet" href="_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Appendices" href="Appendices.html" />
    <link rel="prev" title="5 - Running Jobs on Ganymede" href="Running-Jobs-On-Ganymede.html" />
  
  <link rel="apple-touch-icon" href="_static/".../_static/UTDemblem.png"" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Appendices.html" title="Appendices"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Running-Jobs-On-Ganymede.html" title="5 - Running Jobs on Ganymede"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">UTDallas HPC Cluster Users Guide 1.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar">
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Ganymede-Training-v1.2.html">UTDallas HPC Cluster Users Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Connecting-To-Ganymede.html">1 - Connecting to Ganymede</a></li>
<li class="toctree-l1"><a class="reference internal" href="Moving-Around-Ganymede.html">2 - Moving around Ganymede</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ganymede-Space-Constraints.html">3 - Ganymede Space Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ganymede-Compilers-And-Modules.html">4 - Ganymede Compilers and Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Running-Jobs-On-Ganymede.html">5 - Running Jobs on Ganymede</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6 - Application Specific Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#matlab">6.1 - Matlab</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Appendices.html">Appendices</a></li>
</ul>

    
  </div>
</div>
  <h4>Previous topic</h4>
  <p class="topless"><a href="Running-Jobs-On-Ganymede.html"
                        title="previous chapter">5 - Running Jobs on Ganymede</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Appendices.html"
                        title="next chapter">Appendices</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Application-Specific-Instructions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          
          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="index.html">Docs</a></li>
              
              <li>6 - Application Specific Instructions</li>
            </ol>
          </div>
          
          <div class="document clearer body">
            
  <div class="section" id="application-specific-instructions">
<h1>6 - Application Specific Instructions<a class="headerlink" href="#application-specific-instructions" title="Permalink to this headline">¶</a></h1>
<p>There are certain programs that require users to run them by a specific method.  These can be added with modules as with other programs on the stack.</p>
<div class="section" id="matlab">
<h2>6.1 - Matlab<a class="headerlink" href="#matlab" title="Permalink to this headline">¶</a></h2>
<p>Ganymede currently has r2018a installed, and in addition to the site liscense there are 32 liscenses for distributed Matlab.  Matlab jobs can be run in 3 different ways: serial, parallel and distributed compute.  Each of these job types can either be batch or interactive.  The following sections will describe what this means to the user.</p>
<div class="section" id="job-types">
<h3>6.1.1 - Job Types<a class="headerlink" href="#job-types" title="Permalink to this headline">¶</a></h3>
<p>There are 3 different job types: Serial, Parallel Computing Toolkit, and Distibuted Compute Server.</p>
<div class="section" id="serial-jobs">
<h4>6.1.1.1 - Serial Jobs<a class="headerlink" href="#serial-jobs" title="Permalink to this headline">¶</a></h4>
<p>Serial jobs are defined as jobs where one dataset exists in memory.  This can either be accessed by one processor or by multiple processors.  Serial jobs are created when a user runs standard Matlab scripts.</p>
<p>For an example of a serial job, the user can look in the directory <code class="docutils literal notranslate"><span class="pre">/opt/ohpc/pub/examples/matlab/serial/</span></code> and open the readme file.</p>
</div>
<div class="section" id="parallel-computing-toolkit-pct-jobs">
<h4>6.1.1.2 - Parallel Computing Toolkit (PCT) Jobs<a class="headerlink" href="#parallel-computing-toolkit-pct-jobs" title="Permalink to this headline">¶</a></h4>
<p>Parallel Computing Toolkit jobs are jobs that use openmp to call parallel processes using MPI.  These jobs follow directives that are established in the Matlab Parallel Computing Toolkit with full information available at <a class="reference external" href="https://www.mathworks.com/products/parallel-computing.html">https://www.mathworks.com/products/parallel-computing.html</a> . The user has the availabity to run an instance of Matlab with each of the cores reserved in the current node.  Ganymede is equiped with 12,000 keys to ensure that many users can do parallel computing at once.</p>
<p>For an example of a serial job, the user can look in the directory <code class="docutils literal notranslate"><span class="pre">/opt/ohpc/pub/examples/matlab/parallel/</span></code> and open the readme file.</p>
</div>
<div class="section" id="distributed-compute-server-dcs-jobs">
<h4>6.1.1.3 - Distributed Compute Server (DCS) Jobs<a class="headerlink" href="#distributed-compute-server-dcs-jobs" title="Permalink to this headline">¶</a></h4>
<p>Distributed Compute Server jobs are very similar to PCT jobs, but these jobs leverage systems within Matlab to use multiple nodes to work on jobs instead of multiple instances as in PCT.  The user must use internal commands to Matlab to enable this, however Matlab automatically pulls the corret liscense type for the command run by the user.  The University currently owns 32 liscenses.  The default number that are run is 12, however the user can change the number of units run using the following code in their code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myCluster</span>  <span class="o">=</span> <span class="n">parcluster</span><span class="p">();</span>
<span class="n">poolobj</span> <span class="o">=</span> <span class="n">parpool</span><span class="p">(</span><span class="n">myCluster</span><span class="p">,</span><span class="mi">32</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="matlab-job-modes">
<h3>6.1.2 - Matlab Job Modes<a class="headerlink" href="#matlab-job-modes" title="Permalink to this headline">¶</a></h3>
<p>Like all Slurm jobs, Matlab can either be run in the background with <code class="docutils literal notranslate"><span class="pre">sbatch</span></code> or interactively with <code class="docutils literal notranslate"><span class="pre">srun</span></code>.  The user does, however, need to do some specific actions for matlab to work.</p>
<div class="section" id="batch-jobs">
<h4>6.1.2.1 - Batch Jobs<a class="headerlink" href="#batch-jobs" title="Permalink to this headline">¶</a></h4>
<p>Using Slurm, an effecient way to run Matlab allows to user to set up a number of batches to run at the same time across multiple cores.  This means that if the user has the same program to run with multiple data sets, it is possible to batch the same program with multiple data sets.  This allows the system to run the multiple sets in tandem, yielding faster results.</p>
<p>To do this, the submission script needs to be stuctured like the one in Section 5.2.1 with the program section being replaced by <code class="docutils literal notranslate"><span class="pre">matlab</span> <span class="pre">-nodisplay</span> <span class="pre">-nosplash</span> <span class="pre">&lt;user</span> <span class="pre">function&gt;.m</span> <span class="pre">&lt;&lt;</span> <span class="pre">&lt;input&gt;</span></code></p>
</div>
<div class="section" id="interactive-matlab">
<h4>6.1.2.2 - Interactive Matlab<a class="headerlink" href="#interactive-matlab" title="Permalink to this headline">¶</a></h4>
<p>Matlab can be run from an interactive terminal on a single compute node.  This is useful for users who want to tweak inputs as they go, or want to feed in live data.  See section 5.4 for how to log into a node.  Once logged in, the user needs to load the Matlab module.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[jxw150830 ~]$ module load matlab
</pre></div>
</div>
<p>Once the user has added the module, executing `` `` will start matlab interactively.  This normally takes a few moments.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[jxw150830 ~]$ matlab
MATLAB is selecting SOFTWARE OPENGL rendering.

                          &lt; M A T L A B (R) &gt;
                Copyright 1984-2018 The MathWorks, Inc.
                 R2018a (9.4.0.813654) 64-bit (glnxa64)
                           February 23, 2018


To get started, type one of these: helpwin, helpdesk, or demo.
For product information, visit www.mathworks.com.

&gt;&gt; %%-- 06/04/18 01:33:51 PM --%%
&gt;&gt;
</pre></div>
</div>
<p>Once the Matlab terminal is loaded, the user can execute Matlab functions a usual.  When finished, the user should exit from the Matlab terminal and the compute node.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;&gt; exit
[jxw150830 ~]$ exit
exit
[jxw150830 ~]$
</pre></div>
</div>
</div>
</div>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="Running-Jobs-On-Ganymede.html" title="previous chapter (use the left arrow)">5 - Running Jobs on Ganymede</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="Appendices.html" title="next chapter (use the right arrow)">Appendices</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Appendices.html" title="Appendices"
             >next</a> |</li>
        <li class="right" >
          <a href="Running-Jobs-On-Ganymede.html" title="5 - Running Jobs on Ganymede"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">UTDallas HPC Cluster Users Guide 1.2 documentation</a> &#187;</li> 
      </ul>
    </div>
<script type="text/javascript">
  $("#mobile-toggle a").click(function () {
    $("#left-column").toggle();
  });
</script>
<script type="text/javascript" src="_static/js/bootstrap.js"></script>
  <div class="footer">
    &copy; Copyright 2019, Noah Castetter. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  </body>
</html>